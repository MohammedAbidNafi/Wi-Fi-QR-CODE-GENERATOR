{"ast":null,"code":"import _objectSpread from\"E:/WebProjects/wifi-card/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/WebProjects/wifi-card/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import QRCode from'qrcode.react';import{useEffect,useRef,useState}from'react';import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Card=function Card(){var firstLoad=useRef(true);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),qrvalue=_useState2[0],setQrvalue=_useState2[1];var _useState3=useState({ssid:'',encryptionMode:'WPA',password:'',hidePassword:false}),_useState4=_slicedToArray(_useState3,2),network=_useState4[0],setNetwork=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),portrait=_useState6[0],setPortrait=_useState6[1];var escape=function escape(v){var needsEscape=['\"',';',',',':','\\\\'];var escaped='';for(var i=0;i<v.length;i++){var c=v[i];if(needsEscape.includes(c)){c='\\\\'+c;}escaped+=c;}return escaped;};var onPrint=function onPrint(){if(network.ssid.length>0){if(network.password.length<8&&network.encryptionMode==='WPA'){alert('Password must be at least 8 characters');}else if(network.password.length<5&&network.encryptionMode==='WEP'){alert('Password must be at least 5 characters');}else{window.print();}}else{alert('Network name cannot be empty');}};useEffect(function(){if(firstLoad.current&&window.innerWidth<500){firstLoad.current=false;setPortrait(true);}var ssid=escape(network.ssid);var password=escape(network.password);setQrvalue(\"WIFI:T:\".concat(network.encryptionMode,\";S:\").concat(ssid,\";P:\").concat(password,\";;\"));},[network]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"fieldset\",{id:\"print-area\",style:{maxWidth:portrait?'350px':'100%'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:portrait?'center':'left'},children:\"WiFi Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",style:{flexDirection:portrait?'column':'row'},children:[/*#__PURE__*/_jsx(QRCode,{className:\"qrcode\",style:{paddingRight:portrait?'':'1em'},value:qrvalue,size:175}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Network name\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"ssid\",type:\"text\",maxLength:\"32\",placeholder:\"WiFi Network name\",autoComplete:\"off\",autoCorrect:\"off\",autoCapitalize:\"none\",spellCheck:\"false\",value:network.ssid,onChange:function onChange(e){return setNetwork(_objectSpread(_objectSpread({},network),{},{ssid:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{className:network.hidePassword?'no-print':'',children:\"Password\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"password\",type:\"text\",className:network.hidePassword?'no-print':'',style:{height:portrait&&network.password.length>40?'5em':'auto'},maxLength:\"63\",placeholder:\"Password\",autoComplete:\"off\",autoCorrect:\"off\",autoCapitalize:\"none\",spellCheck:\"false\",value:network.password,onChange:function onChange(e){setNetwork(_objectSpread(_objectSpread({},network),{},{password:e.target.value}));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"no-print\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"hide-password-checkbox\",onChange:function onChange(){return setNetwork(_objectSpread(_objectSpread({},network),{},{hidePassword:!network.hidePassword}));}}),/*#__PURE__*/_jsx(\"label\",{for:\"hide-password-checkbox\",children:\"Hide password field before printing\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"no-print\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Encryption:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"encrypt-select\",id:\"encrypt-none\",value:\"nopass\",onChange:function onChange(e){setNetwork(_objectSpread(_objectSpread({},network),{},{encryptionMode:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{for:\"encrypt-none\",children:\"None\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"encrypt-select\",id:\"encrypt-wpa-wpa2\",value:\"WPA\",onChange:function onChange(e){return setNetwork(_objectSpread(_objectSpread({},network),{},{encryptionMode:e.target.value}));},defaultChecked:true}),/*#__PURE__*/_jsx(\"label\",{for:\"encrypt-wpa-wpa2\",children:\"WPA/WPA2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"encrypt-select\",id:\"encrypt-wep\",value:\"WEP\",onChange:function onChange(e){return setNetwork(_objectSpread(_objectSpread({},network),{},{encryptionMode:e.target.value}));}}),/*#__PURE__*/_jsx(\"label\",{for:\"encrypt-wep\",children:\"WEP\"})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{role:\"img\",\"aria-label\":\"mobile-phone\",children:\"\\uD83D\\uDCF8\\uD83D\\uDCF1\"}),\"Point your phone's camera at the QR Code to connect automatically\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"rotate\",onClick:function onClick(){return setPortrait(!portrait);},children:\"Rotate\"}),/*#__PURE__*/_jsx(\"button\",{id:\"print\",onClick:onPrint,children:\"Print\"})]})]});};","map":{"version":3,"sources":["E:/WebProjects/wifi-card/src/components/Card.js"],"names":["QRCode","useEffect","useRef","useState","Card","firstLoad","qrvalue","setQrvalue","ssid","encryptionMode","password","hidePassword","network","setNetwork","portrait","setPortrait","escape","v","needsEscape","escaped","i","length","c","includes","onPrint","alert","window","print","current","innerWidth","maxWidth","textAlign","flexDirection","paddingRight","e","target","value","height"],"mappings":"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","sourcesContent":["import QRCode from 'qrcode.react';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport './style.css';\r\n\r\nexport const Card = () => {\r\n  const firstLoad = useRef(true);\r\n  const [qrvalue, setQrvalue] = useState('');\r\n  const [network, setNetwork] = useState({\r\n    ssid: '',\r\n    encryptionMode: 'WPA',\r\n    password: '',\r\n    hidePassword: false,\r\n  });\r\n  const [portrait, setPortrait] = useState(false);\r\n\r\n  const escape = (v) => {\r\n    const needsEscape = ['\"', ';', ',', ':', '\\\\'];\r\n\r\n    let escaped = '';\r\n    for (let i = 0; i < v.length; i++) {\r\n      let c = v[i];\r\n      if (needsEscape.includes(c)) {\r\n        c = '\\\\' + c;\r\n      }\r\n      escaped += c;\r\n    }\r\n\r\n    return escaped;\r\n  };\r\n\r\n  const onPrint = () => {\r\n    if (network.ssid.length > 0) {\r\n      if (network.password.length < 8 && network.encryptionMode === 'WPA') {\r\n        alert('Password must be at least 8 characters');\r\n      } else if (\r\n        network.password.length < 5 &&\r\n        network.encryptionMode === 'WEP'\r\n      ) {\r\n        alert('Password must be at least 5 characters');\r\n      } else {\r\n        window.print();\r\n      }\r\n    } else {\r\n      alert('Network name cannot be empty');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (firstLoad.current && window.innerWidth < 500) {\r\n      firstLoad.current = false;\r\n      setPortrait(true);\r\n    }\r\n\r\n    const ssid = escape(network.ssid);\r\n    const password = escape(network.password);\r\n    setQrvalue(`WIFI:T:${network.encryptionMode};S:${ssid};P:${password};;`);\r\n  }, [network]);\r\n\r\n  return (\r\n    <div>\r\n      <fieldset\r\n        id=\"print-area\"\r\n        style={{ maxWidth: portrait ? '350px' : '100%' }}\r\n      >\r\n        <h1 style={{ textAlign: portrait ? 'center' : 'left' }}>WiFi Login</h1>\r\n\r\n        <div\r\n          className=\"details\"\r\n          style={{ flexDirection: portrait ? 'column' : 'row' }}\r\n        >\r\n          <QRCode\r\n            className=\"qrcode\"\r\n            style={{ paddingRight: portrait ? '' : '1em' }}\r\n            value={qrvalue}\r\n            size={175}\r\n          />\r\n\r\n          <div className=\"inputs\">\r\n            <label>Network name</label>\r\n            <textarea\r\n              id=\"ssid\"\r\n              type=\"text\"\r\n              maxLength=\"32\"\r\n              placeholder=\"WiFi Network name\"\r\n              autoComplete=\"off\"\r\n              autoCorrect=\"off\"\r\n              autoCapitalize=\"none\"\r\n              spellCheck=\"false\"\r\n              value={network.ssid}\r\n              onChange={(e) => setNetwork({ ...network, ssid: e.target.value })}\r\n            />\r\n            <label className={network.hidePassword ? 'no-print' : ''}>\r\n              Password\r\n            </label>\r\n            <textarea\r\n              id=\"password\"\r\n              type=\"text\"\r\n              className={network.hidePassword ? 'no-print' : ''}\r\n              style={{\r\n                height:\r\n                  portrait && network.password.length > 40 ? '5em' : 'auto',\r\n              }}\r\n              maxLength=\"63\"\r\n              placeholder=\"Password\"\r\n              autoComplete=\"off\"\r\n              autoCorrect=\"off\"\r\n              autoCapitalize=\"none\"\r\n              spellCheck=\"false\"\r\n              value={network.password}\r\n              onChange={(e) => {\r\n                setNetwork({ ...network, password: e.target.value });\r\n              }}\r\n            />\r\n\r\n            <div className=\"no-print\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"hide-password-checkbox\"\r\n                onChange={() =>\r\n                  setNetwork({\r\n                    ...network,\r\n                    hidePassword: !network.hidePassword,\r\n                  })\r\n                }\r\n              />\r\n              <label for=\"hide-password-checkbox\">\r\n                Hide password field before printing\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"no-print\">\r\n              <label>Encryption:</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"encrypt-select\"\r\n                id=\"encrypt-none\"\r\n                value=\"nopass\"\r\n                onChange={(e) => {\r\n                  setNetwork({ ...network, encryptionMode: e.target.value });\r\n                }}\r\n              />\r\n              <label for=\"encrypt-none\">None</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"encrypt-select\"\r\n                id=\"encrypt-wpa-wpa2\"\r\n                value=\"WPA\"\r\n                onChange={(e) =>\r\n                  setNetwork({ ...network, encryptionMode: e.target.value })\r\n                }\r\n                defaultChecked\r\n              />\r\n              <label for=\"encrypt-wpa-wpa2\">WPA/WPA2</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"encrypt-select\"\r\n                id=\"encrypt-wep\"\r\n                value=\"WEP\"\r\n                onChange={(e) =>\r\n                  setNetwork({ ...network, encryptionMode: e.target.value })\r\n                }\r\n              />\r\n              <label for=\"encrypt-wep\">WEP</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        <p>\r\n          <span role=\"img\" aria-label=\"mobile-phone\">\r\n            📸📱\r\n          </span>\r\n          Point your phone's camera at the QR Code to connect automatically\r\n        </p>\r\n      </fieldset>\r\n\r\n      <div className=\"buttons\">\r\n        <button id=\"rotate\" onClick={() => setPortrait(!portrait)}>\r\n          Rotate\r\n        </button>\r\n        <button id=\"print\" onClick={onPrint}>\r\n          Print\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}